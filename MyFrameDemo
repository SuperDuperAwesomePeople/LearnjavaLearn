import java.awt.Container;
import java.util.List;
import java.awt.event.*;
import java.awt.GridLayout;
import java.awt.Window;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Random;
import java.awt.Color;

import javax.swing.*;


public class MyFrameDemo extends JFrame implements KeyListener{
	static MyFrameDemo grid = new MyFrameDemo();
	static int r = 12;
	static Container container = grid.getContentPane();
	static ArrayList<JPanel>components = new ArrayList<JPanel>();
	static int[] bricks = new int[6];

	public static int randStart(int min, int max) {
	    Random rand = new Random();
	    int start = rand.nextInt((max - min) + 1) + min;
	    return start;
	}
	
	public static int randBrick(int start) {
	    Random rand = new Random();
	    int randomBrick = rand.nextInt((24 - 0) + 1) + 0;
	    while (randomBrick == start){
		    randomBrick = rand.nextInt((24 - 0) + 1) + 0;
	    }
	    return randomBrick;
	}
	
	public static void main(String[] args) {
		grid.addKeyListener(grid);
		grid.setSize(900,900);
		grid.setResizable( true );
		grid.setLocationRelativeTo( null );
		grid.setLayout( new GridLayout(5,5) );
		JPanel temp = null;
		for ( int i = 0; i < 25; i++ )
		{
			  temp = new JPanel();
			  container.add(temp);
			  components.add(temp);
			  components.get( i ).setBackground( Color.WHITE );
			  
		}
		grid.setVisible(true);

		components.get( 12 ).setBackground( Color.GREEN );
		int start = randStart(0, 24);
		bricks[0] = -1;
		bricks[1] = randBrick(start);
		bricks[2] = randBrick(start);
		bricks[3] = randBrick(start);
		bricks[4] = randBrick(start);
		bricks[5] = randBrick(start);
		for (int i = 1; i < 6; i++){
			int brick;
			brick = bricks[i];
			components.get(brick).setBackground(Color.ORANGE);
		}
	}
	
	public static boolean bricksUp(int[] array, int number) {	
		int a =  Arrays.binarySearch(array, (number - 5));
		if(a > 0)
			return true;
		else
			return false;
	}
	public static boolean bricksDown(int[] array, int number) {	
		int a =  Arrays.binarySearch(array, (number + 5));
		if(a > 0)
			return true;
		else
			return false;
	}
	public static boolean bricksRight(int[] array, int number ) {	
		int a =  Arrays.binarySearch(array, (number + 1));
		if(a > 0)
			return true;
		else
			return false;
	}
	 public static boolean bricksLeft(int[] array, int number) {	
		int a =  Arrays.binarySearch(array, (number - 1));
		if(a > 0)
			return true;
		else
			return false;
	}
	
	
	@Override
	public void keyPressed(KeyEvent e) {

		if(e.getKeyCode()==38 && r > 4 && bricksUp(bricks, r) == false){
			r = r - 5;
			components.get( r ).setBackground( Color.GREEN );
			components.get(r + 5).setBackground(Color.WHITE);
		}
		if(e.getKeyCode()==37 && r % 5 != 0 && bricksLeft(bricks, r) == false){
			r = r - 1;
			components.get( r ).setBackground( Color.GREEN );
			components.get(r + 1).setBackground(Color.WHITE);
		}
		if(e.getKeyCode()==39 && r % 5 != 4 && bricksRight(bricks, r) == false){
			r = r + 1;
			components.get( r ).setBackground( Color.GREEN );
			components.get(r - 1).setBackground(Color.WHITE);
		}
		if(e.getKeyCode()==40 && r < 20 && bricksDown(bricks, r) == false){
			r = r + 5;
			components.get( r ).setBackground( Color.GREEN );
			components.get(r - 5).setBackground(Color.WHITE);
		}
	}

	@Override
	public void keyReleased(KeyEvent e) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void keyTyped(KeyEvent e) {
		// TODO Auto-generated method stub
		
	}
}
